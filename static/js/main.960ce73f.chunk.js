(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{158:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n.n(a),r=n(13),s=n.n(r),o=(n(67),n(62)),i=n(9),l=n.n(i),u=n(20),d=n(8),m=(n(69),n(32)),j=n.n(m),b=n(11),h=n.n(b),f=(n(71),n(2)),O=function(e){var t=e.addBooking,n=Object(a.useState)(""),c=Object(d.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(""),i=Object(d.a)(o,2),l=i[0],u=i[1],m=Object(a.useState)(new Date),b=Object(d.a)(m,2),O=b[0],x=b[1],v=Object(a.useState)(new Date),p=Object(d.a)(v,2),g=p[0],k=p[1];return Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=h()(O).format("YYYY-MM-DD"),a=h()(g).format("HH:mm");t({name:r,email:l,formatedDate:n,formatedTime:a}),s(""),u(""),x(new Date),k(new Date)},children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"name",children:"Full Name"}),Object(f.jsx)("input",{id:"name",type:"text",className:"form-control",placeholder:"Full Name",value:r,onChange:function(e){return s(e.target.value)},required:!0})]})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email"}),Object(f.jsx)("input",{type:"email",id:"email",className:"form-control",placeholder:"Email",value:l,onChange:function(e){return u(e.target.value)},required:!0})]})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"date",children:"Date"}),Object(f.jsx)("div",{children:Object(f.jsx)(j.a,{id:"date",className:"form-control",selected:O,onChange:function(e){return x(e)},dateFormat:"dd/mm/yyyy",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",required:!0})})]}),Object(f.jsx)("div",{className:"",children:Object(f.jsxs)("div",{className:"time",children:[Object(f.jsx)("label",{htmlFor:"time",className:"form-label",children:"Time"}),Object(f.jsx)(j.a,{className:"form-control",id:"time",selected:g,onChange:function(e){return k(e)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:10,timeCaption:"Time",dateFormat:"h:mm aa",required:!0})]})})]}),Object(f.jsx)("input",{type:"submit",value:"Add Booking",className:"btn btn-block"})]})},x=function(e){var t=e.booking,n=e.onDelete;return Object(f.jsxs)("div",{className:"booking",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:t.name}),Object(f.jsx)("div",{children:t.email}),Object(f.jsxs)("div",{children:[h.a.utc(t.date).format("DD/MM/YYYY")," at ",h.a.utc(t.time,"hh:mm:ss").format("h:mm a")]})]}),Object(f.jsx)("button",{className:"dlt-btn",value:"Delete",onClick:function(){return n(t.id)},children:"Delete"})]})},v=function(e){var t=e.bookings,n=e.onDelete;return Object(f.jsx)("div",{className:"booking-list",children:t.slice(0).reverse().map((function(e){return Object(f.jsx)(x,{booking:e,onDelete:n},e.id)}))})},p="https://bookingskws-backend.herokuapp.com/";var g=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var r=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if(201!==(a=e.sent).status){e.next=11;break}return e.next=6,a.json();case 6:r=e.sent,c([].concat(Object(o.a)(n),[r[0]])),console.log(r[0]),e.next=12;break;case 11:alert("Error Adding Booking");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+t,{method:"DELETE"});case 2:200===e.sent.status?c(n.filter((function(e){return e.id!==t}))):alert("Error Deleting Booking");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h2",{children:"Booking Form"}),Object(f.jsx)(O,{className:"form",addBooking:r}),Object(f.jsx)(v,{bookings:n,onDelete:s})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,160)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(g,{})}),document.getElementById("root")),k()},67:function(e,t,n){},69:function(e,t,n){}},[[158,1,2]]]);
//# sourceMappingURL=main.960ce73f.chunk.js.map